##### BASIC SETTINGS #####

# Reload config
bind r source-file ~/.tmux.conf \; display "tmux reloaded"

# Terminal
set -g default-terminal "screen-256color"

# Faster key response
set -sg escape-time 0

# Start windows and panes at 1
set -g base-index 1
setw -g pane-base-index 1

# Enable mouse (optional, but useful for scrolling logs)
set -g mouse on


##### PANE & WINDOW MANAGEMENT #####

# Split panes
bind | split-window -h
bind - split-window -v

# Layout presets (critical for debugging)
bind e select-layout even-horizontal
bind v select-layout even-vertical
bind m select-layout main-vertical
bind M select-layout main-horizontal

# Zoom pane (deep focus)
bind z resize-pane -Z

# Safe pane kill
bind x confirm-before -p "kill-pane? (y/n)" kill-pane


##### FAST PANE NAVIGATION (NO PREFIX) #####

# Move between panes
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-j select-pane -D
bind -n M-k select-pane -U

# Resize panes
bind -n M-H resize-pane -L 5
bind -n M-L resize-pane -R 5
bind -n M-J resize-pane -D 5
bind -n M-K resize-pane -U 5


##### GDB EXECUTION CONTROL #####

# Flow control
bind-key -n F5  send-keys -t . "c" Enter       # continue
bind-key -n F6  send-keys -t . "n" Enter       # next
bind-key -n F7  send-keys -t . "s" Enter       # step
bind-key -n F8  send-keys -t . "finish" Enter  # step out

# Instruction-level stepping
bind-key -n M-F6 send-keys -t . "ni" Enter
bind-key -n M-F7 send-keys -t . "si" Enter

# Interrupt / clear
bind-key -n F4 send-keys -t . "interrupt" Enter
bind-key -n F3 send-keys -t . C-l


##### GDB INSPECTION #####

bind-key -n F9  send-keys -t . "bt" Enter
bind-key -n F10 send-keys -t . "info locals" Enter
bind-key -n F11 send-keys -t . "info args" Enter
bind-key -n F12 send-keys -t . "info registers" Enter


##### GDB THREADS & FRAMES #####

bind-key -n M-9 send-keys -t . "info threads" Enter
bind-key -n M-0 send-keys -t . "thread apply all bt" Enter

bind-key -n M-j send-keys -t . "down" Enter
bind-key -n M-k send-keys -t . "up" Enter


##### BREAKPOINTS & WATCHES #####

bind-key -n M-b send-keys -t . "info breakpoints" Enter
bind-key -n M-d send-keys -t . "delete" Space
bind-key -n M-w send-keys -t . "watch" Space


##### QUALITY OF LIFE #####

# Repeat last shell command (great for reruns)
bind-key -n F2 send-keys -t . Up Enter

# Visual bell only (no audible beep)
set -g bell-action none
set -g visual-bell on

# Status bar (minimal, readable)
set -g status-interval 5
set -g status-style fg=white,bg=black
set -g status-left "#[fg=green]#S "
set -g status-right "#[fg=cyan]%H:%M #[fg=yellow]%Y-%m-%d"

